{% extends "base.html" %}
{% block title %}
Лента записей
{% endblock %}
{% block content %}
<div class="container py-5">
    <h1>Лента записей</h1>                      
    <!-- Перебираем в цикле все посты -->
    {% for p in posts reversed %}
    <hr>
    <article>
      <ul>
        <li>
          Место: {{ p.location }}              
        </li>
        <li>
          Дата: {{ p.date }}
        </li>
        <li>
          Категория: <a href="{% url 'blog:category_posts' p.category %}">{{ p.category }}</a>
        </li>
      </ul>          
      <!-- Первые 10 слов -->
      <p>
        {{ p.text|truncatewords:10 }}
      </p>
      <a href="{% url 'blog:post_detail' id=p.id %}">Читать полный текст</a>
    </article>
    {% endfor %}
  </div>
{% endblock %}